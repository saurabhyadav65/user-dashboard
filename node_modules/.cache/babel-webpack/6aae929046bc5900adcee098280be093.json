{"ast":null,"code":"import _asyncToGenerator from \"/home/amantya/user-dashboard/user-dashboard-app/node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/user.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\n\nfunction UserDashboardComponent_table_7_tr_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const user_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r3.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r3.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r3.role);\n  }\n}\n\nfunction UserDashboardComponent_table_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 7);\n    i0.ɵɵelementStart(1, \"thead\");\n    i0.ɵɵelementStart(2, \"tr\");\n    i0.ɵɵelementStart(3, \"th\");\n    i0.ɵɵtext(4, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Role\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"tbody\");\n    i0.ɵɵtemplate(10, UserDashboardComponent_table_7_tr_10_Template, 7, 3, \"tr\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.users);\n  }\n}\n\nfunction UserDashboardComponent_p_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"No users added yet.\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport class UserDashboardComponent {\n  constructor(userService) {\n    this.userService = userService;\n    this.users = [];\n  }\n\n  ngOnInit() {\n    this.userService.users$.subscribe(data => {\n      this.users = data;\n      this.updateChart();\n    });\n  }\n\n  ngAfterViewInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const Chart = (yield import('chart.js/auto')).default;\n\n      _this.initializeChart(Chart);\n    })();\n  }\n\n  initializeChart(Chart) {\n    this.chart = new Chart('roleChart', {\n      type: 'pie',\n      data: {\n        labels: ['Admin', 'Editor', 'Viewer'],\n        datasets: [{\n          data: [0, 0, 0],\n          backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56']\n        }]\n      },\n      options: {\n        responsive: true,\n        plugins: {\n          legend: {\n            position: 'top'\n          }\n        }\n      }\n    });\n  }\n\n  updateChart() {\n    if (!this.chart) return;\n    const roleCounts = {\n      Admin: 0,\n      Editor: 0,\n      Viewer: 0\n    };\n    this.users.forEach(user => roleCounts[user.role]++);\n    this.chart.data.datasets[0].data = [roleCounts['Admin'], roleCounts['Editor'], roleCounts['Viewer']];\n    this.chart.update();\n  }\n\n  addDummyUser() {\n    this.userService.addUser({\n      name: 'John Doe',\n      email: 'john@example.com',\n      role: 'Admin'\n    });\n  }\n\n}\n\nUserDashboardComponent.ɵfac = function UserDashboardComponent_Factory(t) {\n  return new (t || UserDashboardComponent)(i0.ɵɵdirectiveInject(i1.UserService));\n};\n\nUserDashboardComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UserDashboardComponent,\n  selectors: [[\"app-user-dashboard\"]],\n  decls: 13,\n  vars: 2,\n  consts: [[1, \"dashboard-container\"], [3, \"click\"], [\"routerLink\", \"/user-form\", 2, \"margin-left\", \"1rem\"], [\"class\", \"user-table\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"chart-container\", 2, \"max-width\", \"400px\", \"margin-top\", \"2rem\"], [\"id\", \"roleChart\"], [1, \"user-table\"], [4, \"ngFor\", \"ngForOf\"]],\n  template: function UserDashboardComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"h2\");\n      i0.ɵɵtext(2, \"User Dashboard\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"button\", 1);\n      i0.ɵɵlistener(\"click\", function UserDashboardComponent_Template_button_click_3_listener() {\n        return ctx.addDummyUser();\n      });\n      i0.ɵɵtext(4, \"Add Dummy User\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"button\", 2);\n      i0.ɵɵtext(6, \"Add User\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(7, UserDashboardComponent_table_7_Template, 11, 1, \"table\", 3);\n      i0.ɵɵtemplate(8, UserDashboardComponent_p_8_Template, 2, 0, \"p\", 4);\n      i0.ɵɵelementStart(9, \"div\", 5);\n      i0.ɵɵelementStart(10, \"h3\");\n      i0.ɵɵtext(11, \"User Role Distribution\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(12, \"canvas\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngIf\", ctx.users.length > 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.users.length === 0);\n    }\n  },\n  directives: [i2.RouterLink, i3.NgIf, i3.NgForOf],\n  styles: [\".dashboard-container[_ngcontent-%COMP%] {\\n    padding: 2rem;\\n    font-family: Arial, sans-serif;\\n  }\\n  \\n  .user-table[_ngcontent-%COMP%] {\\n    width: 100%;\\n    border-collapse: collapse;\\n    margin-top: 1rem;\\n  }\\n  \\n  .user-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .user-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n    border: 1px solid #ccc;\\n    padding: 0.5rem;\\n    text-align: left;\\n  }\\n  \\n  .chart-container[_ngcontent-%COMP%] {\\n    margin-top: 2rem;\\n  }\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXItZGFzaGJvYXJkLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxhQUFhO0lBQ2IsOEJBQThCO0VBQ2hDOztFQUVBO0lBQ0UsV0FBVztJQUNYLHlCQUF5QjtJQUN6QixnQkFBZ0I7RUFDbEI7O0VBRUE7O0lBRUUsc0JBQXNCO0lBQ3RCLGVBQWU7SUFDZixnQkFBZ0I7RUFDbEI7O0VBRUE7SUFDRSxnQkFBZ0I7RUFDbEIiLCJmaWxlIjoidXNlci1kYXNoYm9hcmQuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5kYXNoYm9hcmQtY29udGFpbmVyIHtcbiAgICBwYWRkaW5nOiAycmVtO1xuICAgIGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjtcbiAgfVxuICBcbiAgLnVzZXItdGFibGUge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XG4gICAgbWFyZ2luLXRvcDogMXJlbTtcbiAgfVxuICBcbiAgLnVzZXItdGFibGUgdGgsXG4gIC51c2VyLXRhYmxlIHRkIHtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xuICAgIHBhZGRpbmc6IDAuNXJlbTtcbiAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICB9XG4gIFxuICAuY2hhcnQtY29udGFpbmVyIHtcbiAgICBtYXJnaW4tdG9wOiAycmVtO1xuICB9XG4gICJdfQ== */\"]\n});","map":{"version":3,"sources":["/home/amantya/user-dashboard/user-dashboard-app/src/app/user-dashboard/user-dashboard.component.ts"],"names":["i0","i1","i2","i3","UserDashboardComponent_table_7_tr_10_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","user_r3","$implicit","ɵɵadvance","ɵɵtextInterpolate","name","email","role","UserDashboardComponent_table_7_Template","ɵɵtemplate","ctx_r0","ɵɵnextContext","ɵɵproperty","users","UserDashboardComponent_p_8_Template","UserDashboardComponent","constructor","userService","ngOnInit","users$","subscribe","data","updateChart","ngAfterViewInit","Chart","default","initializeChart","chart","type","labels","datasets","backgroundColor","options","responsive","plugins","legend","position","roleCounts","Admin","Editor","Viewer","forEach","user","update","addDummyUser","addUser","ɵfac","UserDashboardComponent_Factory","t","ɵɵdirectiveInject","UserService","ɵcmp","ɵɵdefineComponent","selectors","decls","vars","consts","template","UserDashboardComponent_Template","ɵɵlistener","UserDashboardComponent_Template_button_click_3_listener","ɵɵelement","length","directives","RouterLink","NgIf","NgForOf","styles"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/user.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction UserDashboardComponent_table_7_tr_10_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const user_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r3.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r3.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r3.role);\n} }\nfunction UserDashboardComponent_table_7_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 7);\n    i0.ɵɵelementStart(1, \"thead\");\n    i0.ɵɵelementStart(2, \"tr\");\n    i0.ɵɵelementStart(3, \"th\");\n    i0.ɵɵtext(4, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\");\n    i0.ɵɵtext(6, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\");\n    i0.ɵɵtext(8, \"Role\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"tbody\");\n    i0.ɵɵtemplate(10, UserDashboardComponent_table_7_tr_10_Template, 7, 3, \"tr\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.users);\n} }\nfunction UserDashboardComponent_p_8_Template(rf, ctx) { if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"No users added yet.\");\n    i0.ɵɵelementEnd();\n} }\nexport class UserDashboardComponent {\n    constructor(userService) {\n        this.userService = userService;\n        this.users = [];\n    }\n    ngOnInit() {\n        this.userService.users$.subscribe((data) => {\n            this.users = data;\n            this.updateChart();\n        });\n    }\n    async ngAfterViewInit() {\n        const Chart = (await import('chart.js/auto')).default;\n        this.initializeChart(Chart);\n    }\n    initializeChart(Chart) {\n        this.chart = new Chart('roleChart', {\n            type: 'pie',\n            data: {\n                labels: ['Admin', 'Editor', 'Viewer'],\n                datasets: [{\n                        data: [0, 0, 0],\n                        backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56'],\n                    }]\n            },\n            options: {\n                responsive: true,\n                plugins: {\n                    legend: {\n                        position: 'top',\n                    },\n                },\n            }\n        });\n    }\n    updateChart() {\n        if (!this.chart)\n            return;\n        const roleCounts = { Admin: 0, Editor: 0, Viewer: 0 };\n        this.users.forEach(user => roleCounts[user.role]++);\n        this.chart.data.datasets[0].data = [\n            roleCounts['Admin'],\n            roleCounts['Editor'],\n            roleCounts['Viewer'],\n        ];\n        this.chart.update();\n    }\n    addDummyUser() {\n        this.userService.addUser({\n            name: 'John Doe',\n            email: 'john@example.com',\n            role: 'Admin',\n        });\n    }\n}\nUserDashboardComponent.ɵfac = function UserDashboardComponent_Factory(t) { return new (t || UserDashboardComponent)(i0.ɵɵdirectiveInject(i1.UserService)); };\nUserDashboardComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: UserDashboardComponent, selectors: [[\"app-user-dashboard\"]], decls: 13, vars: 2, consts: [[1, \"dashboard-container\"], [3, \"click\"], [\"routerLink\", \"/user-form\", 2, \"margin-left\", \"1rem\"], [\"class\", \"user-table\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"chart-container\", 2, \"max-width\", \"400px\", \"margin-top\", \"2rem\"], [\"id\", \"roleChart\"], [1, \"user-table\"], [4, \"ngFor\", \"ngForOf\"]], template: function UserDashboardComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"h2\");\n        i0.ɵɵtext(2, \"User Dashboard\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"button\", 1);\n        i0.ɵɵlistener(\"click\", function UserDashboardComponent_Template_button_click_3_listener() { return ctx.addDummyUser(); });\n        i0.ɵɵtext(4, \"Add Dummy User\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"button\", 2);\n        i0.ɵɵtext(6, \"Add User\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(7, UserDashboardComponent_table_7_Template, 11, 1, \"table\", 3);\n        i0.ɵɵtemplate(8, UserDashboardComponent_p_8_Template, 2, 0, \"p\", 4);\n        i0.ɵɵelementStart(9, \"div\", 5);\n        i0.ɵɵelementStart(10, \"h3\");\n        i0.ɵɵtext(11, \"User Role Distribution\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(12, \"canvas\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n    } if (rf & 2) {\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngIf\", ctx.users.length > 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.users.length === 0);\n    } }, directives: [i2.RouterLink, i3.NgIf, i3.NgForOf], styles: [\".dashboard-container[_ngcontent-%COMP%] {\\n    padding: 2rem;\\n    font-family: Arial, sans-serif;\\n  }\\n  \\n  .user-table[_ngcontent-%COMP%] {\\n    width: 100%;\\n    border-collapse: collapse;\\n    margin-top: 1rem;\\n  }\\n  \\n  .user-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .user-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n    border: 1px solid #ccc;\\n    padding: 0.5rem;\\n    text-align: left;\\n  }\\n  \\n  .chart-container[_ngcontent-%COMP%] {\\n    margin-top: 2rem;\\n  }\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXItZGFzaGJvYXJkLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxhQUFhO0lBQ2IsOEJBQThCO0VBQ2hDOztFQUVBO0lBQ0UsV0FBVztJQUNYLHlCQUF5QjtJQUN6QixnQkFBZ0I7RUFDbEI7O0VBRUE7O0lBRUUsc0JBQXNCO0lBQ3RCLGVBQWU7SUFDZixnQkFBZ0I7RUFDbEI7O0VBRUE7SUFDRSxnQkFBZ0I7RUFDbEIiLCJmaWxlIjoidXNlci1kYXNoYm9hcmQuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5kYXNoYm9hcmQtY29udGFpbmVyIHtcbiAgICBwYWRkaW5nOiAycmVtO1xuICAgIGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjtcbiAgfVxuICBcbiAgLnVzZXItdGFibGUge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XG4gICAgbWFyZ2luLXRvcDogMXJlbTtcbiAgfVxuICBcbiAgLnVzZXItdGFibGUgdGgsXG4gIC51c2VyLXRhYmxlIHRkIHtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xuICAgIHBhZGRpbmc6IDAuNXJlbTtcbiAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICB9XG4gIFxuICAuY2hhcnQtY29udGFpbmVyIHtcbiAgICBtYXJnaW4tdG9wOiAycmVtO1xuICB9XG4gICJdfQ== */\"] });\n"]},"metadata":{},"sourceType":"module"}